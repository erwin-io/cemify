<!-- <ion-header>
  <ion-toolbar color="primary">
    <div slot="start" style="width: 48px"></div>
    <ion-title class="ion-text-center">Account</ion-title>
    <div slot="end" style="width: 48px"></div>
  </ion-toolbar>
</ion-header> -->

<ion-content class="ion-padding">
  <div class="profile">
    <div class="image" >
      <!-- <img src="../../../assets/img/person.png"> -->
      <img
        (click)="onShowChangeProfilePicMenu()"
        src="{{currentUser?.userProfilePic && currentUser?.userProfilePic?.file?.url ? currentUser?.userProfilePic?.file?.url : '../../../assets/img/person.png'}}"
        (error)="profilePicErrorHandler($event)"
        [style]="isSubmitting ? 'opacity: 0.2' : 'opacity: 1'" id="profilePicture">
    </div>
    <div class="name">
      <h1>{{currentUser?.fullName}}</h1>
      <h3>{{currentUser?.userType}}</h3>
    </div>
  </div>
  <div class="settings">
    <ion-list lines="full">
      <ion-item button="true" detail="false" (click)="onOpenAccountSettings()">
        <ion-icon color="primary" slot="start" name="person-circle-outline" size="large"></ion-icon>
        <ion-label>Account</ion-label>
      </ion-item>
      <ion-item button="true" detail="false" (click)="onOpenResetPassword()">
        <ion-icon color="primary" slot="start" name="key-outline" size="large"></ion-icon>
        <ion-label>Reset Password</ion-label>
      </ion-item>
      <ion-item *ngIf="currentUser.userType === 'CLIENT'" button="true" detail="false" (click)="onOpenReservation()">
        <ion-icon color="secondary" slot="start" name="reader-outline" size="large"></ion-icon>
        <ion-label>Reservation</ion-label>
      </ion-item>
      <ion-item *ngIf="currentUser.userType === 'STAFF'" button="true" detail="false" (click)="onOpenWorkOrder()">
        <ion-icon color="secondary" slot="start" name="reader-outline" size="large"></ion-icon>
        <ion-label>Work Order</ion-label>
      </ion-item>
      <ion-item button="true" detail="false" (click)="onOpenNotifications()">
        <ion-icon color="warning" slot="start" name="notifications-outline" size="large"></ion-icon>
        <ion-label>Notifications</ion-label>
        <ion-badge color="warning" slot="end">{{totalUnreadNotification}}</ion-badge>
      </ion-item>
    </ion-list>
    <br>
    <ion-button color="danger" fill="outline" (click)="signout()">Log out</ion-button>
  </div>
</ion-content>
